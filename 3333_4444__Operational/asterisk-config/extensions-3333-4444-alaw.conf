; ============================================
; GSTREAMER PHASE 1 TEST CONTEXT - Updated for ALAW (8kHz)
; Extensions 3333 and 4444 - Isolated PCM Test with GStreamer
; Uses ExternalMedia with proper 8kHz ALAW format
; ============================================
[gstreamer-phase1]

; Extension 3333 â†’ ExternalMedia with ALAW format
exten => 3333,1,NoOp(=== GStreamer Phase 1 - Extension 3333 with ALAW ===)
 same => n,Answer()
 same => n,Set(CHANNEL(format)=alaw)
 same => n,Playback(beep)
 same => n,NoOp(Starting ExternalMedia on port 4000/4001 with ALAW format)
 same => n,ExternalMedia(app=gs3333,external_host=127.0.0.1:4000,format=alaw,transport=udp)
 same => n,Hangup()

; Extension 4444 â†’ ExternalMedia with ALAW format
exten => 4444,1,NoOp(=== GStreamer Phase 1 - Extension 4444 with ALAW ===)
 same => n,Answer()
 same => n,Set(CHANNEL(format)=alaw)
 same => n,Playback(beep)
 same => n,NoOp(Starting ExternalMedia on port 4002/4003 with ALAW format)
 same => n,ExternalMedia(app=gs4444,external_host=127.0.0.1:4002,format=alaw,transport=udp)
 same => n,Hangup()

; Direct dial between 3333 and 4444 for testing
exten => _333X,1,NoOp(Direct dial from ${CALLERID(num)} to ${EXTEN})
 same => n,Dial(PJSIP/${EXTEN})
 same => n,Hangup()

exten => _444X,1,NoOp(Direct dial from ${CALLERID(num)} to ${EXTEN})
 same => n,Dial(PJSIP/${EXTEN})
 same => n,Hangup()